{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/img/icon-error.svg","../src/main.js"],"sourcesContent":["export function getDataFromAPI(baseUrl, apiKey, inputValue) {\n  const fullUrl = buildFullUrl(baseUrl, apiKey, inputValue);\n  return fetch(fullUrl)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n    .catch(error => {\n      console.log('ERROR:', error);\n      return Promise.reject(error);\n    });\n}\n\nfunction buildFullUrl(baseUrl, apiKey, inputValue) {\n  const searchParams = new URLSearchParams({\n    key: apiKey,\n    q: inputValue,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: 'true',\n  });\n  return `${baseUrl}?${searchParams}`;\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nexport function renderGalleryImg(parentEl, data) {\n  parentEl.innerHTML = generateMarkup(data);\n  lightbox.refresh();\n}\n\nfunction generateMarkup(data) {\n  return data\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) =>\n        ` <li class=\"gallery-item\">\n      <a class=\"gallery-link\" href=\"${largeImageURL}\">\n        <figure class=\"gallery-figure\">\n          <img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\" width=\"360\" />\n          <figcaption class=\"gallery-figcaption\">\n            <ul class=\"gallery-text\">\n              <li>\n                <span>Likes</span>\n                <p>${likes}</p>\n              </li>\n              <li>\n                <span>Views</span>\n                <p>${views}</p>\n              </li>\n              <li>\n                <span>Comments</span>\n                <p>${comments}</p>\n              </li>\n              <li>\n                <span>Downloads</span>\n                <p>${downloads}</p>\n              </li>\n            </ul>\n          </figcaption>\n        </figure>\n      </a>\n    </li>`\n    )\n    .join(' ');\n}\n","export default \"__VITE_ASSET__eb775c6f__\"","import { getDataFromAPI } from './js/pixabay-api';\nimport { renderGalleryImg } from './js/render-functions';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport iconError from './img/icon-error.svg';\n\nconst apiKey = '43227230-2cc9b082dfeccb819f6787c2c';\nconst baseUrl = 'https://pixabay.com/api/';\n\nconst searchFormEl = document.querySelector('.search-form');\nconst imageGalleryEl = document.querySelector('.gallery');\nconst loaderWrapperEl = document.querySelector('.loader-wrapper ');\n\nsearchFormEl.addEventListener('submit', onSearchFormSubmit);\n\nfunction onSearchFormSubmit(e) {\n  e.preventDefault();\n  imageGalleryEl.innerHTML = '';\n  loaderWrapperEl.classList.remove('is-hidden');\n\n  const inputValue = e.currentTarget.search.value.trim();\n\n  if (!inputValue) {\n    displayErrorMessage('Please enter a value in the field!', 'Error');\n    e.currentTarget.reset();\n    loaderWrapperEl.classList.add('is-hidden');\n    return;\n  }\n\n  getDataFromAPI(baseUrl, apiKey, inputValue)\n    .then(data => {\n      const formData = data.hits;\n      if (formData.length === 0) {\n        displayErrorMessage(\n          'Sorry, there are no images matching your search query. Please try again!'\n        );\n\n        loaderWrapperEl.classList.add('is-hidden');\n        return;\n      }\n\n      renderGalleryImg(imageGalleryEl, formData);\n      loaderWrapperEl.classList.add('is-hidden');\n    })\n    .catch(error => {\n      displayErrorMessage(\n        'Error fetching data. Please try again later',\n        'Error'\n      );\n      console.error('Error fetching data:', error);\n    });\n\n  e.currentTarget.reset();\n}\n\nconst iziToastConfig = {\n  position: 'topRight',\n  titleColor: '#FFF',\n  titleSize: '16',\n  titleLineHeight: '24',\n  messageColor: '#FFF',\n  messageSize: '16',\n  messageLineHeight: '24',\n};\n\nfunction displayErrorMessage(message, title) {\n  iziToast.error({\n    ...iziToastConfig,\n    title: title || '',\n    message: `${message}`,\n    backgroundColor: '#EF4040',\n    iconUrl: iconError,\n  });\n}\n"],"names":["getDataFromAPI","baseUrl","apiKey","inputValue","fullUrl","buildFullUrl","response","error","searchParams","lightbox","SimpleLightbox","renderGalleryImg","parentEl","data","generateMarkup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","iconError","searchFormEl","imageGalleryEl","loaderWrapperEl","onSearchFormSubmit","e","displayErrorMessage","formData","iziToastConfig","message","title","iziToast"],"mappings":"6vBAAO,SAASA,EAAeC,EAASC,EAAQC,EAAY,CAC1D,MAAMC,EAAUC,EAAaJ,EAASC,EAAQC,CAAU,EACxD,OAAO,MAAMC,CAAO,EACjB,KAAKE,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACtB,CAAK,EACA,MAAMC,IACL,QAAQ,IAAI,SAAUA,CAAK,EACpB,QAAQ,OAAOA,CAAK,EAC5B,CACL,CAEA,SAASF,EAAaJ,EAASC,EAAQC,EAAY,CACjD,MAAMK,EAAe,IAAI,gBAAgB,CACvC,IAAKN,EACL,EAAGC,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MAChB,CAAG,EACD,MAAO,GAAGF,CAAO,IAAIO,CAAY,EACnC,CCrBA,MAAMC,EAAW,IAAIC,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,GAChB,CAAC,EAEM,SAASC,EAAiBC,EAAUC,EAAM,CAC/CD,EAAS,UAAYE,EAAeD,CAAI,EACxCJ,EAAS,QAAO,CAClB,CAEA,SAASK,EAAeD,EAAM,CAC5B,OAAOA,EACJ,IACC,CAAC,CACC,aAAAE,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACD,IACC;AAAA,sCAC8BL,CAAa;AAAA;AAAA,4CAEPD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,qBAKjDC,CAAK;AAAA;AAAA;AAAA;AAAA,qBAILC,CAAK;AAAA;AAAA;AAAA;AAAA,qBAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,qBAIRC,CAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAOzB,EACA,KAAK,GAAG,CACb,CCtDA,MAAeC,EAAA,gDCQTpB,EAAS,qCACTD,EAAU,2BAEVsB,EAAe,SAAS,cAAc,cAAc,EACpDC,EAAiB,SAAS,cAAc,UAAU,EAClDC,EAAkB,SAAS,cAAc,kBAAkB,EAEjEF,EAAa,iBAAiB,SAAUG,CAAkB,EAE1D,SAASA,EAAmBC,EAAG,CAC7BA,EAAE,eAAc,EAChBH,EAAe,UAAY,GAC3BC,EAAgB,UAAU,OAAO,WAAW,EAE5C,MAAMtB,EAAawB,EAAE,cAAc,OAAO,MAAM,OAEhD,GAAI,CAACxB,EAAY,CACfyB,EAAoB,qCAAsC,OAAO,EACjED,EAAE,cAAc,QAChBF,EAAgB,UAAU,IAAI,WAAW,EACzC,MACD,CAEDzB,EAAeC,EAASC,EAAQC,CAAU,EACvC,KAAKU,GAAQ,CACZ,MAAMgB,EAAWhB,EAAK,KACtB,GAAIgB,EAAS,SAAW,EAAG,CACzBD,EACE,0EACV,EAEQH,EAAgB,UAAU,IAAI,WAAW,EACzC,MACD,CAEDd,EAAiBa,EAAgBK,CAAQ,EACzCJ,EAAgB,UAAU,IAAI,WAAW,CAC/C,CAAK,EACA,MAAMlB,GAAS,CACdqB,EACE,8CACA,OACR,EACM,QAAQ,MAAM,uBAAwBrB,CAAK,CACjD,CAAK,EAEHoB,EAAE,cAAc,OAClB,CAEA,MAAMG,EAAiB,CACrB,SAAU,WACV,WAAY,OACZ,UAAW,KACX,gBAAiB,KACjB,aAAc,OACd,YAAa,KACb,kBAAmB,IACrB,EAEA,SAASF,EAAoBG,EAASC,EAAO,CAC3CC,EAAS,MAAM,CACb,GAAGH,EACH,MAAOE,GAAS,GAChB,QAAS,GAAGD,CAAO,GACnB,gBAAiB,UACjB,QAAST,CACb,CAAG,CACH"}